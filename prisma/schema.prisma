// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id                    String           @id @default(uuid())
  name                  String
  email                 String           @unique
  password              String
  createdHeaderInfo     Header_info[]
  createdNavbar         Navbar[]
  createdSlider         Slider[]
  createdServiceSection ServiceSection[]
}

model Header_info {
  id          String  @id @default(uuid())
  lang        String
  welcomeText String
  address     String
  user        User?   @relation(fields: [authorId], references: [id])
  authorId    String?
}

model Navbar {
  id               String         @id @default(uuid())
  lang             String
  logo             String
  menu             Navbar_menu[]
  contact          Navbar_contact @relation(fields: [navbar_contactId], references: [id])
  navbar_contactId String
  user             User?          @relation(fields: [authorId], references: [id])
  authorId         String?
}

model Navbar_menu {
  id       String  @id @default(uuid())
  label    String
  href     String
  navbar   Navbar? @relation(fields: [navbarId], references: [id])
  navbarId String?
}

model Navbar_contact {
  id      String   @id @default(uuid())
  title   String
  phone   String
  icon    String
  navbars Navbar[]
}

model Slider {
  id       String  @id @default(uuid())
  lang     String
  slides   Slide[]
  user     User?   @relation(fields: [authorId], references: [id])
  authorId String?
}

model Slide {
  id       String  @id @default(uuid())
  title    String
  text     String
  image    String
  slider   Slider? @relation(fields: [sliderId], references: [id])
  sliderId String?
}

model ServiceSection {
  id          String    @id @default(uuid())
  lang        String
  heading     String
  description String
  services    Service[]
  user        User?     @relation(fields: [authorId], references: [id])
  authorId    String?
}

model Service {
  id        String         @id @default(uuid())
  title     String
  image     String
  section   ServiceSection @relation(fields: [sectionId], references: [id], onDelete: Cascade)
  sectionId String
  types     ServiceType[]
}

model ServiceType {
  id        String  @id @default(uuid())
  value     String
  service   Service @relation(fields: [serviceId], references: [id], onDelete: Cascade)
  serviceId String
}
